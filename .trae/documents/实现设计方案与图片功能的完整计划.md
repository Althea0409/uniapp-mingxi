## 总目标
- 基于现有代码与《UI设计方案》完成学生端所有核心功能与交互，并对首页、学习中心、发现、个人中心、评估、成就、AI助手、课表等页面进行完善。
- 不新增外部库，沿用当前技术栈与样式体系，统一组件与配色。

## 设计与样式统一
- 全局样式：继续使用 `src/styles/variables.scss` 与 `src/styles/common.scss` 作为设计系统来源；补全标签、阴影、按钮尺寸规范，统一卡片间距。
- 组件一致性：
  - `Card.vue`：支持无阴影、不同内边距；作为所有区块容器。
  - `Button.vue`：主次按钮、加载态、禁用态；尺寸 large/medium/small。
  - `Tag.vue`、`Progress.vue`：用于课程状态与进度条。

## 数据层与状态管理
- 扩展现有 Pinia Store：
  - `stores/user.ts`：增加等级、积分变更方法与事件；登录后缓存用户信息。
  - `stores/course.ts`：
    - 课程列表、作业列表、预习任务、课表项的增删改查；
    - 计算属性：进行中课程、已完成课程、待交作业、已交/已批作业、未完成预习。
  - `stores/app.ts`：
    - 激励语管理、全局弹窗（情感激励）、加载/提示统一入口；
    - TabBar 当前索引、全局事件（`uni.$emit`）。
- Mock 数据：沿用 `src/mock/achievements.json`；新增 `courses.json`, `homework.json`, `preview.json`, `schedule.json`, `resources.json`（初期可直接在 Store 初始化内内联）。

## 首页（/pages/home/index）完善
- 顶部导航栏与个人信息卡片：已具备，优化数据绑定与展示。
- 快捷入口宫格：保持 4 宫格，数字角标取自 store；点击跳转到对应 Tab 或页面。
- 学习指标卡片：
  - 环形完成率用 CSS `conic-gradient`（已有实现），指标项与“查看详情”跳转到 `/pages/evaluation/index`。
- 推荐课程轮播：
  - 卡片结构：封面（状态标签）、课程信息、进度条、章节与下次上课信息；
  - 修复裁切问题：`course-card` 使用列式 flex，内容区 `flex:1`；轮播高度与封面高度已提升（如需再调整体在 440–500rpx 区间）。
- 今日学习动态：暂用占位或从 store 获取最近事件。

## 学习中心（/pages/study/index）实现
- 顶部 Tab（课程/作业/预习）：已存在，完善各列表。
- 我的课程：卡片含进度、章节、下次课、“继续学习”按钮（跳 `/pages/study/course-detail`）。
- 课后作业：
  - 卡片显示标题、截止时间、剩余时间、题型；
  - 详情页 `/pages/study/homework-detail`：题目列表（占位）、作答提交；提交后状态改为 submitted，评分后 graded。
- 课前预习：
  - 列表显示预习标题、建议时长、发布时间、标签；
  - 详情页 `/pages/study/preview-detail`：内容清单、完成标记，完成后更新 `preview.completed`。

## 发现页（/pages/discover/index）实现
- Tab：课堂讨论 / 资源推荐 / 知识库。
- 课堂讨论：
  - 列表项含发起人、时间、标题、摘要、互动数据；
  - 详情页 `/pages/discover/discussion-detail` 展示全文与图片、回复计数；提供“参与讨论”（先提示占位）。
- 资源推荐：卡片含封面、匹配度、推荐理由、类型（文档/视频/练习），操作按钮（查看/观看）。
- 知识库：按学科分类列表（初期使用静态分组与卡片）。

## 个人中心（/pages/profile/index）完善
- 顶部用户信息区域：头像、等级、积分、勋章数；点击进入“成就与积分”。
- 功能入口：课表、评估、成就、AI助手、设置等；维持现有跳转。
- 设置页 `/pages/profile/settings`：采用 Card 列表 & 占位功能（通知、隐私、关于）。

## 课表页（/pages/schedule/index）实现
- 顶部周次选择、日期 Tab；
- 垂直时间轴列表，课程卡片含课程名、地点、教师；
- 空闲时间智能建议（占位）。

## 学习评估页（/pages/evaluation/index）实现
- 周期切换（本周/本月/本学期）；
- 综合评估卡片（雷达图占位）；
- 指标列表（知识掌握/作业质量/课堂参与/学习时长）用进度条与数据；
- AI智能分析文案区域与“生成学习计划建议”按钮（暂弹 Toast）。

## 成就与积分页（/pages/achievement/index）实现
- 顶部积分卡片（渐变背景、当前积分与增长）；
- 成就列表（已解锁/进行中/未解锁），进行中显示进度条与条件；
- 勋章墙（栅格卡片）链接“查看全部”。

## AI学习助手页（/pages/assistant/index）实现
- 聊天 UI：顶部助手形象、标签云快捷问题、消息气泡、底部输入区；
- 发送消息后进入本地 mock 回复；集成“有帮助/没帮助”反馈并加经验值/积分；
- 图片/文件按钮占位。

## 情感陪伴激励弹窗
- 触发规则：学习时长达阈值、连续答错、长时间未活跃等；
- 在 `stores/app.ts` 增加激励弹窗状态与触发方法；弹窗组件放在根 `App.vue`（样式 `z-index` 高于页面，`appStore.encouragement` 文案来源）。

## 路由与导航
- 检查 `src/pages.json` 页面均已注册（已存在大部分，含详情页与助手页）；
- 统一白名单与登录守卫（`src/App.vue:18`）。

## 验证与测试
- H5 开发预览与交互自测；
- 关键页面交互路径：
  - 登录 → 首页 → 快捷入口 → 学习中心各 Tab → 详情 → 返回；
  - 个人中心 → 成就与积分 / 评估 / 助手；
  - 发现页 → 讨论详情 / 资源卡片。
- 样式核对：卡片间距、滚动条隐藏、裁切问题；首页推荐课程卡片高度介于 440–500rpx，封面 220–260rpx。

## 迭代安排
- 第1迭代：首页完善、学习中心三页与详情页、课表页基础；
- 第2迭代：发现页三 Tab、成就与积分、评估页；
- 第3迭代：AI助手与情感激励弹窗、资源推荐完善、知识库占位；
- 第4迭代：统一性能优化与无障碍细节、移动端适配（安全区）。

## 关键代码参考（现有）
- 全局样式导入：`src/App.vue:52`（`@import './styles/common.scss'`）
- 首页推荐课程样式区：`src/pages/home/index.vue:850` 起；课程信息区：`src/pages/home/index.vue:894`；进度条：`src/pages/home/index.vue:923`。
- 学习中心 Tab 与样式：`src/pages/study/index.vue:356`；
- 发现页内容区：`src/pages/discover/index.vue:300`；
- 个人中心菜单：`src/pages/profile/index.vue:120`；
- Store 基础：`src/stores/app.ts:1`、`src/stores/user.ts:1`、`src/stores/course.ts:1`。

## 交付物
- 完整页面与交互实现，统一风格组件。
- Mock 数据与状态驱动的可运行演示。
- 验收清单：各页面路径可达、核心按钮可用、卡片信息完整显示、无裁切与滚动条显示。

请确认以上计划，我将按迭代逐步实施并在每一阶段完成后进行预览验证。